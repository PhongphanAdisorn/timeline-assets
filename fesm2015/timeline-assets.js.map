{"version":3,"file":"timeline-assets.js","sources":["../../../projects/timeline-assets/src/lib/timeline-assets.service.ts","../../../projects/timeline-assets/src/lib/services/user-auth.service.ts","../../../projects/timeline-assets/src/lib/timeline-assets.component.ts","../../../projects/timeline-assets/src/lib/common/icon-files.ts","../../../projects/timeline-assets/src/lib/components/main-dialog/add-budget-code-maintenance/create-event.animation.ts","../../../projects/timeline-assets/src/lib/components/main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.component.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/dialog-new-record/create-event.animation.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/dialog-new-record/dialog-new-record.component.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/dialog-view-task/dialog-view-task.component.ts","../../../projects/timeline-assets/src/lib/components/timeline/timeline.component.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/timeline-tools/timeline-tools.component.ts","../../../projects/timeline-assets/src/lib/directives/error-img/error-img.ts","../../../projects/timeline-assets/src/lib/directives/error-img/error-img-user.ts","../../../projects/timeline-assets/src/lib/directives/directives.module.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/dialog-new-record/dialog-new-record.module.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/timeline-tools/timeline-tools.module.ts","../../../projects/timeline-assets/src/lib/components/timeline/widgets/dialog-view-task/dialog-view-task.module.ts","../../../projects/timeline-assets/src/lib/components/main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.module.ts","../../../projects/timeline-assets/src/lib/components/timeline/timeline.module.ts","../../../projects/timeline-assets/src/lib/timeline-assets.module.ts","../../../projects/timeline-assets/src/public-api.ts","../../../projects/timeline-assets/src/timeline-assets.ts"],"sourcesContent":["import { HttpClient, HttpEvent, HttpEventType, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { map } from 'rxjs/operators';\n\nconst BaseServer: string = \"https://highwaydistrict.com/doh_district/api\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TimelineAssetsService {\n  protected baseUrl: string = BaseServer; \n  protected tools: AppTools;\n  constructor(\n    private http: HttpClient\n  ) {\n    this.tools = new AppTools;\n  }\n\n  /**\n      * Create new maintenance history\n      * @param data | Object\n      * @returns Promise\n    */\n   public createMaintenance(data: object) {\n    const url: string = `${this.baseUrl}/timeline/create-maintenance`;\n    const params: FormData = this.tools.genFormData(data);\n    return this.http.post(url, params).pipe(map((res: any) => res?.data)).toPromise();\n}\n/**\n  * Create new condition report\n  * @param data | Object\n  * @returns Promise\n*/\npublic createConditionReport(data: object) {\n    const url: string = `${this.baseUrl}/timeline/create-condition`;\n    const params: FormData = this.tools.genFormData(data);\n    return this.http.post(url, params).pipe(map((res: any) => res?.data)).toPromise();\n}\n\n/** =========================================================================\n * Upload file to timline\n * @param assetType \n * @param assetId \n * @param file \n * @returns Observable\n */\npublic uploadFile(mainId: string, assetType: string, assetId: string, file: File, isMaintenance: boolean): Observable<HttpEvent<any>> {\n    const formData: FormData = new FormData();\n    formData.append('mainId', mainId);\n    formData.append('assetType', assetType);\n    formData.append('assetId', assetId);\n    formData.append('file', file);\n    const maintenance = (isMaintenance) ? '/maintenance' : '';\n    const url: string = `${this.baseUrl}/timeline/upload-file${maintenance}`;\n    const request = new HttpRequest('POST', url, formData, {\n        reportProgress: true,\n        responseType: 'json'\n    });\n    return this.http.request(request).pipe(\n        map((event: any) => {\n            //-- Uploading...\n            if (event.type === HttpEventType.UploadProgress) return Math.round(100 * event.loaded / event.total);\n            //-- Uploaded\n            // if (event.type === 3) return 100;\n            //-- Uploaded response\n            if (event instanceof HttpResponse) return event.body;\n            //-- orther\n            return event;\n        })\n    );\n}\n/** ======================================================================\n * Download file\n * */\npublic downloadFile(assetType: string, assetId: string, fileName: string): Observable<HttpEvent<any>> {\n    const formData: FormData = new FormData();\n    const url: string = `${this.baseUrl}/timeline/download/${assetType}/${assetId}/${fileName}`;\n    const request = new HttpRequest('POST', url, formData, {\n        reportProgress: true,\n        responseType: 'blob' as 'json'\n    });\n    return this.http.request(request).pipe(\n        map((event: any) => {\n            //-- loading... HttpHeaderResponse\n            if (event.type === HttpEventType.DownloadProgress) return event.loaded;\n            //-- response\n            if (event instanceof HttpResponse) return event.body;\n            //-- orther\n            return event;\n        })\n    );\n}\n\n/** ======================================================================\n * Load timeline data \n * =====================================================================*/\n\npublic getTimeline(assetType: string, assetId: string, period?: string, periodType?: string): Promise<any> {\n    const formData: FormData = new FormData();\n    formData.append('assetType', assetType);\n    formData.append('assetId', assetId);\n    if (period) formData.append('period', period);\n    if (periodType) formData.append('periodType', periodType);\n    const url: string = `${this.baseUrl}/timeline/asset-timeline`;\n    return this.http.post(url, formData).pipe(map((res: any) => res?.data)).toPromise();\n}\n\npublic getMaintenanceHistoryWithFile(mainId: string): Promise<any> {\n    const url: string = `${this.baseUrl}/timeline/maintenance-history/${mainId}`;\n    return this.http.get(url).pipe(map((res: any) => res?.data)).toPromise();\n}\npublic getConditionReportWithFile(mainId: string): Promise<any> {\n    const url: string = `${this.baseUrl}/timeline/condition-report/${mainId}`;\n    return this.http.get(url).pipe(map((res: any) => res?.data)).toPromise();\n}\n\n\n}\n\n\n// app tools gan form data\nexport class AppTools{\n  constructor(){}\n  // gan form data\n  public genFormData(object: Object, form?: FormData, namespace?: string): FormData {\n    const formData = form || new FormData()\n    for (let property in object) {\n        if (object.hasOwnProperty(property) && object[property] != null && object[property] !== undefined) {\n            const formKey = namespace ? `${namespace}[${property}]` : property\n            if (object[property] instanceof Date) {\n                formData.append(formKey, object[property].toISOString())\n            } else if (typeof object[property] === 'object' && !(object[property] instanceof File)) {\n                this.genFormData(object[property], formData, formKey)\n            } else {\n                formData.append(formKey, object[property])\n            }\n            continue\n        }\n    }\n    return formData\n  }\n\n    private twoDigi = (num: number): string => (`0${num}`).slice(-2);\n    /** Create date time format \n     * @param date : Date\n     * @return string : 'yyyy-MM-dd HH:mm:ss'\n    */\n    public dateTimeFormat(date: Date): string {\n        if(!date) return null;\n        const fTime: string = `${this.twoDigi(date.getHours())}:${this.twoDigi(date.getMinutes())}:00`;\n        return `${date.getFullYear()}-${this.twoDigi(date.getMonth() + 1)}-${this.twoDigi(date.getDate())} ${fTime}`;\n    }\n}\n\n// budget list api\n@Injectable({\n    providedIn: 'root'\n})\nexport class BudgetCodeService {\n\n    protected baseUrl: string;\n    protected tools: AppTools;\n\n    constructor(private http: HttpClient) {\n        this.baseUrl = BaseServer;\n        this.tools = new AppTools;\n    }\n\n    public createWithUpdate(params: object): Promise<any> {\n        const url: string = `${this.baseUrl}/budget-code/create-update`;\n        const formData: FormData = this.tools.genFormData(params);\n        return this.http.post(url, formData).pipe(map((res: any) => (res?.data) ? res.data : res)).toPromise();\n    }\n\n    /** =================================================================================================\n     * Upload file with progress single file only.\n     * @param assetTable \n     * @param budgetCode \n     * @param file \n     * @returns Observable\n     */\n    public uploadFile(assetTable: string, budgetCode: string, file: File): Observable<HttpEvent<any>> {\n        const url: string = `${this.baseUrl}/budget-code/upload-file`;\n        const formData: FormData = new FormData();\n        formData.append('assetType', assetTable);\n        formData.append('budgetCode', String(budgetCode).trim());\n        formData.append('file', file);\n        const request = new HttpRequest('POST', url, formData, {\n            reportProgress: true,\n            responseType: 'json'\n        });\n        return this.http.request(request).pipe(\n            map((event: any) => {\n                //-- Uploading...\n                if (event.type === HttpEventType.UploadProgress) return Math.round(100 * event.loaded / event.total);\n                //-- Uploaded response\n                if (event instanceof HttpResponse) return event.body;\n                //-- orther\n                return event;\n            })\n        );\n    }\n    /** ======================================================================\n     * Download file\n     * */\n    public downloadFile(assetType: string, fileName: string): Observable<HttpEvent<any>> {\n        const formData: FormData = new FormData();\n        const url: string = `${this.baseUrl}/budget-code/download/${assetType}/${fileName}`;\n        const request = new HttpRequest('POST', url, formData, {\n            reportProgress: true,\n            responseType: 'blob' as 'json'\n        });\n        return this.http.request(request).pipe(\n            map((event: any) => {\n                //-- loading... HttpHeaderResponse\n                if (event.type === HttpEventType.DownloadProgress) return event.loaded;\n                //-- response\n                if (event instanceof HttpResponse) return event.body;\n                //-- orther\n                return event;\n            })\n        );\n    }\n\n    /** Finding budget-code */\n    public findBudgetCode(isAll: boolean, assetTable: string, budgetCode: string) {\n        const findAll: string = (isAll) ? '/all' : '';\n        const url: string = `${this.baseUrl}/budget-code/find-code${findAll}`;\n        const formData: FormData = this.tools.genFormData({ assetType: assetTable, findCode: String(budgetCode).trim() });\n        return this.http.post(url, formData).pipe(map((res: any) => (res?.data) ? res.data : res)).toPromise();\n    }\n    /** Get asset to used budget-code */\n    public getAssetUsedCode(budgetCode: string) {\n        const url: string = `${this.baseUrl}/budget-code/asset-used`;\n        const formData: FormData = this.tools.genFormData({ budgetCode: budgetCode });\n        return this.http.post(url, formData).pipe(map((res: any) => (res?.data) ? res.data : res)).toPromise();\n    }\n}\n\n","import { Injectable } from \"@angular/core\";\r\nimport { Observable, Subscriber } from \"rxjs\";\r\n\r\ninterface UserAuthedInterface {\r\n    account_id: string;\r\n    account_name: string;\r\n    thumb: string;\r\n    resp_account: any;\r\n    fullname: string;\r\n    phone: string;\r\n    status_account: number;\r\n    admin_verified: string;\r\n    permission: number;\r\n    division_id: string;\r\n    district_id: string;\r\n    section_id: string;\r\n    division_name: string;\r\n    district_name: string;\r\n    section: string;\r\n    rank: number;\r\n    [x: string]: any;\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class UserAuthedService {\r\n    private AUTH_KEY: string = 'AUTHED_ASSETS';\r\n    private _authUser: UserAuthedInterface;\r\n    private _observe: Subscriber<any> = new Subscriber<any>();\r\n    constructor( ) { }\r\n\r\n    public get watchUserAccount(): Observable<UserAuthedInterface> {\r\n        return new Observable((observe) => {\r\n            this._observe = observe\r\n        });\r\n    }\r\n\r\n    public get authUser(): UserAuthedInterface {\r\n        if(sessionStorage.getItem(this.AUTH_KEY) !== undefined){\r\n            this._authUser = JSON.parse(sessionStorage.getItem(this.AUTH_KEY));\r\n        } \r\n        return this._authUser;\r\n    }\r\n\r\n    public setAuthUser(user: UserAuthedInterface) {\r\n        this._authUser = user;\r\n        sessionStorage.setItem(this.AUTH_KEY, JSON.stringify(user));\r\n        try {\r\n            this._observe.next(this._authUser);\r\n        } catch (error) { }\r\n    }\r\n \r\n\r\n}","import { Component, Input, OnInit } from '@angular/core';\nimport { UserAuthedService } from './services/user-auth.service';\n\n@Component({\n  selector: 'lib-timeline-assets',\n  templateUrl: './timeline-assets.component.html',\n  styleUrls: ['./timeline-assets.component.scss']\n})\nexport class TimelineAssetsComponent implements OnInit {\n  public _assetInfo: any;\n  public _triggerNumber: number = null;\n  \n  constructor(\n    private _authSer: UserAuthedService\n  ) { }\n\n  @Input() set AssetInfo(items: any){\n    this._assetInfo = items;\n    // this._assetInfo = this.dataTest;\n  }\n\n  @Input() set TriggerNumber(num: number) {\n    if(num) this._triggerNumber = num;\n  }\n\n  @Input() set userUnth(user: any){\n    if(user)  this._authSer.setAuthUser(user)\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","interface IconFileModel {\r\n    name: string;\r\n    icon: string;\r\n}\r\nconst ListFilesModel: Array<IconFileModel> = [\r\n    { name: 'ai', icon: 'assets/icons/files/icon-ai.svg' },\r\n    { name: 'avi', icon: 'assets/icons/files/icon-avi.svg' },\r\n    { name: 'css', icon: 'assets/icons/files/icon-css.svg' },\r\n    { name: 'csv', icon: 'assets/icons/files/icon-csv.svg' },\r\n    { name: 'doc', icon: 'assets/icons/files/icon-doc.svg' },\r\n    { name: 'docx', icon: 'assets/icons/files/icon-doc.svg' },\r\n    { name: 'file', icon: 'assets/icons/files/icon-file.svg' },\r\n    { name: 'html', icon: 'assets/icons/files/icon-html.svg' },\r\n    { name: 'js', icon: 'assets/icons/files/icon-js.svg' },\r\n    { name: 'jpg', icon: 'assets/icons/files/icon-jpg.svg' },\r\n    { name: 'json', icon: 'assets/icons/files/icon-json-file.svg' },\r\n    { name: 'mp3', icon: 'assets/icons/files/icon-mp3.svg' },\r\n    { name: 'mp4', icon: 'assets/icons/files/icon-mp4.svg' },\r\n    { name: 'pdf', icon: 'assets/icons/files/icon-pdf.svg' },\r\n    { name: 'png', icon: 'assets/icons/files/icon-png.svg' },\r\n    { name: 'ppt', icon: 'assets/icons/files/icon-ppt.svg' },\r\n    { name: 'pptx', icon: 'assets/icons/files/icon-ppt.svg' },\r\n    { name: 'psd', icon: 'assets/icons/files/icon-psd.svg' },\r\n    { name: 'txt', icon: 'assets/icons/files/icon-txt.svg' },\r\n    { name: 'text', icon: 'assets/icons/files/icon-txt.svg' },\r\n    { name: 'xls', icon: 'assets/icons/files/icon-xls.svg' },\r\n    { name: 'xlsx', icon: 'assets/icons/files/icon-xls.svg' },\r\n    { name: 'xlsm', icon: 'assets/icons/files/icon-xls.svg' },\r\n    { name: 'xml', icon: 'assets/icons/files/icon-xml.svg' },\r\n    { name: 'zip', icon: 'assets/icons/files/icon-zip.svg' },\r\n    { name: 'rar', icon: 'assets/icons/files/icon-zip.svg' }\r\n]\r\n\r\nexport class IconFiles {\r\n    /** Default 'icon-file' type none */\r\n    public static iconFile(extension?: string) {\r\n        let icon: IconFileModel = ListFilesModel.find((obj) => obj.name === extension)\r\n        if (!!icon) {\r\n            return icon.icon\r\n        } else {\r\n            icon = ListFilesModel.find((obj) => obj.name === 'file')\r\n            return icon.icon\r\n        }\r\n    }\r\n\r\n    /** Default 'icon-file' type none */\r\n    public getIconFile(extension?: string) {\r\n        let icon: IconFileModel = ListFilesModel.find((obj) => obj.name === extension)\r\n        if (!!icon) {\r\n            console.log('icon', icon)\r\n            return icon.icon\r\n\r\n        } else {\r\n            icon = ListFilesModel.find((obj) => obj.name === 'file')\r\n            return icon.icon\r\n        }\r\n    }\r\n}","import { animate, query, stagger, style, transition, trigger } from \"@angular/animations\";\r\nconst ExitStyle = { opacity: 0, transform: 'scale(0.8)' };\r\nconst EnterStyle = { opacity: 1, transform: 'scale(1)' };\r\n\r\n\r\nexport const FadeInOut = trigger('fadeInOut', [\r\n    transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('500ms', style({ opacity: 1 })),\r\n    ]),\r\n    transition(':leave', [animate('500ms', style({ opacity: 0 }))]),\r\n]);\r\n\r\nexport const FadeInGrow = trigger('fadeInGrow', [\r\n    transition(':enter', [\r\n        query(':enter', [\r\n            style(ExitStyle),\r\n            stagger('100ms', [animate('500ms', style(EnterStyle))]),\r\n        ]),\r\n    ]),\r\n    transition(':leave', [\r\n        query(':leave', [\r\n            stagger('-100ms', [animate('500ms', style(ExitStyle))]),\r\n        ]),\r\n    ]),\r\n]);","import { ChangeDetectorRef, Component, Inject, NgZone, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { DateAdapter, MatDateFormats, MAT_DATE_FORMATS } from '@angular/material/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSelectionListChange } from '@angular/material/list';\nimport { Observable } from 'rxjs';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { debounceTime, distinctUntilChanged, map } from 'rxjs/operators'; \nimport { IconFiles } from '../../../common/icon-files';\nimport { UserAuthedService } from '../../../services/user-auth.service';\nimport { AppTools, BudgetCodeService } from '../../../timeline-assets.service';\nimport { FadeInGrow, FadeInOut } from './create-event.animation';\n\nconst CUSTOM_DATE_FORMATS: MatDateFormats = {\n    parse: {\n        dateInput: { month: 'short', year: 'numeric', day: 'numeric' },\n    },\n    display: {\n        dateInput: { month: 'short', year: 'numeric', day: 'numeric' },\n        monthYearLabel: { year: 'numeric', month: 'numeric' },\n        dateA11yLabel: { year: 'numeric', month: 'long', day: 'numeric' },\n        monthYearA11yLabel: { year: 'numeric', month: 'long' },\n    }\n};\n\ninterface DialogDataInterface {\n    title: string;\n    assetTable: string;\n    dialogType: 'Editor' | 'Viewer';\n    listGeom: Array<any>;\n    budgetCode: string;\n}\ninterface FileItem {\n    name: string;\n    thumb: string | ArrayBuffer;\n    file: File;\n    size: number;\n    progress?: number;\n}\ninterface BudgetCodeListInterface {\n    title: string;\n    budgetCode: string;\n    reportDate: string;\n    assetIds: Array<string>;\n    files: Array<{\n        fileUrl: string,\n        fileName: string,\n        extension: string,\n        size: number,\n        progress?: number\n    }>;\n    selected?: boolean;\n}\n@Component({\n    selector: 'app-add-budget-code-maintenance',\n    templateUrl: './add-budget-code-maintenance.component.html',\n    styleUrls: ['./add-budget-code-maintenance.component.scss'],\n    animations: [FadeInOut, FadeInGrow],\n    providers: [{ provide: MAT_DATE_FORMATS, useValue: CUSTOM_DATE_FORMATS }]\n})\nexport class AddBudgetCodeMaintenanceComponent implements OnInit {\n    public title: string;\n    private assetTable: string;\n    public dialogType: 'Editor' | 'Viewer' = 'Viewer';\n    public currentDate: FormControl = new FormControl(new Date(), [Validators.required]);\n    public searchBudgetCode: FormControl = new FormControl(null, [Validators.required]);\n    public searchAsset: FormControl = new FormControl(null);\n    public selectedOptions: FormControl = new FormControl(new Array(), [Validators.required]);\n    public listBudgetCode: BudgetCodeListInterface[] = new Array();\n    public assetsUseBudgetCode: Array<any> = new Array();\n    // public listGeomCopy: Array<any> = new Array();\n    public listGeom: Array<any> = new Array();\n    public filteredAssets: Observable<Array<any>>;\n    public filesUpload: Array<FileItem> = new Array();\n    public activeBudgetCode: BudgetCodeListInterface;\n    /** Save state */\n    public isSaving: boolean;\n    public isSaved: boolean;\n    public preLoading: boolean;\n    public loadingSearch: boolean;\n    public errFindMessage: string;\n    /** Subscription */\n    private _subscription: { [x: string]: Subscription } = {};\n    constructor(\n        private _ref: ChangeDetectorRef,\n        private _zone: NgZone,\n        private _dialog: MatDialogRef<AddBudgetCodeMaintenanceComponent>,\n        @Inject(MAT_DIALOG_DATA) data: DialogDataInterface,\n        private _dateAdapter: DateAdapter<any>,\n        private _authed: UserAuthedService,\n        private _budgetCodeAPI: BudgetCodeService\n    ) {\n        this._dateAdapter.setLocale('th-TH');\n        // console.log('Dialog-Data:', data);\n        this.title = data?.title;\n        this.assetTable = data?.assetTable;\n        this.dialogType = data?.dialogType;\n        this.listGeom = this.mapFormat(data?.listGeom);\n        if (data?.budgetCode) this.getViewBudgetCode(data?.budgetCode);\n        // this.listGeomCopy = this.listGeom.filter(o => o?.id);\n        // const selected = this.listGeom.filter(o => [7407, 7410, 7412].includes(o?.id));\n        // this.selectedOptions.setValue(selected);\n    }\n\n    ngOnInit(): void {\n        this.filteredAssets = this.searchAsset.valueChanges.pipe(\n            debounceTime(400),\n            distinctUntilChanged(),\n            map(value => {\n                const keyword: string = value.toLowerCase();\n                if (keyword?.length) return this.listGeom.filter(obj => obj.title.toLowerCase().indexOf(keyword) !== -1);\n                return this.listGeom.slice();\n            })\n        );\n    }\n    ngAfterViewInit(): void {\n        this.searchAsset.setValue('', { emitEvent: true }); //-- Trigger asset search box\n        this._subscription.searchBudgetCode = this.searchBudgetCode.valueChanges.pipe(\n            debounceTime(400),\n            distinctUntilChanged(),\n        ).subscribe(value => {\n            if (this.activeBudgetCode?.budgetCode) {\n                this.activeBudgetCode = null;\n                this.selectedOptions.setValue([]);\n                this._ref.detectChanges();\n            }\n        });\n    }\n    ngOnDestroy(): void {\n        this._dateAdapter.setLocale('en-EN');\n        for (const key in this._subscription) {\n            if (Object.prototype.hasOwnProperty.call(this._subscription, key)) this._subscription[key].unsubscribe();\n        }\n    }\n\n    private mapFormat(arr: Array<any>): Array<any> {\n        return arr.sort((a, b) => {\n            const sA = (a?.skm) ? Number(String(a?.skm).replace('+', '.')) : Number(String(a?.km_location).replace('+', '.'));\n            const sB = (b?.skm) ? Number(String(b?.skm).replace('+', '.')) : Number(String(b?.km_location).replace('+', '.'));\n            return (sB < sA) ? 1 : -1;\n        });\n    }\n\n    /** Handler Form */\n    private setFormDisabled(): void {\n        this.currentDate.disable();\n        this.searchBudgetCode.disable();\n        this.selectedOptions.disable();\n    }\n    private setFormEnabled(): void {\n        this.currentDate.enable();\n        this.searchBudgetCode.enable();\n        this.selectedOptions.enable();\n    }\n\n    public getViewBudgetCode(budgetCode: string) {\n        this.preLoading = true;\n        this._budgetCodeAPI.findBudgetCode(false, this.assetTable, budgetCode).then(res => {\n            if (res?.length) {\n                this.setActiveBudgetCode(res[0]);\n                const reportDate = res[0]?.reportDate;\n                this.searchBudgetCode.setValue(budgetCode, { emitEvent: false });\n                this.currentDate.setValue(new Date(reportDate), { emitEvent: false });\n            }\n            this.preLoading = false;\n        }, err => {\n            this.preLoading = false;\n        });\n    }\n    public findingBudgetCode() {\n        this.loadingSearch = true;\n        this._budgetCodeAPI.findBudgetCode(true, this.assetTable, this.searchBudgetCode.value).then(res => {\n            this.listBudgetCode = (res?.length) ? res : [];\n            this.loadingSearch = false;\n            this.errFindMessage = null;\n        }, err => {\n            this.errFindMessage = 'ไม่พบรหัสงประมาณ';\n            this.listBudgetCode = new Array();\n            this.loadingSearch = false;\n            if (this.activeBudgetCode?.budgetCode) {\n                this.activeBudgetCode = null;\n                this.selectedOptions.setValue([]);\n                this._ref.detectChanges();\n            }\n        });\n    }\n    private getAssetUsedCode(): void {\n        this.preLoading = true;\n        this._budgetCodeAPI.getAssetUsedCode(this.activeBudgetCode?.budgetCode).then(res => {\n            this.assetsUseBudgetCode = (res?.length) ? res : [];\n            if (res?.length) {\n                let assetIds = this.assetsUseBudgetCode.filter(o => (o?.assetTable === this.assetTable && o?.assets?.length)).map(o => o.assets);\n                assetIds = (assetIds?.length > 0) ? assetIds[0].map(o => o.assetId) : [];\n                const selected = this.listGeom.filter(o => assetIds.includes(o?.id));\n                if (selected?.length) {\n                    this.selectedOptions.setValue(selected);\n                    this._ref.detectChanges();\n                }\n            }\n            this.preLoading = false;\n        }, err => {\n            this.preLoading = false;\n        });\n    }\n    public setActiveBudgetCode(budgetCode: BudgetCodeListInterface): void {\n        if (this.activeBudgetCode?.title === budgetCode?.title) {\n            this.activeBudgetCode = null;\n            this.selectedOptions.setValue([]);\n            this._ref.detectChanges();\n            return;\n        }\n        this.activeBudgetCode = budgetCode;\n        this.getAssetUsedCode();\n        const assetIds = (budgetCode?.assetIds?.length) ? budgetCode.assetIds : [];\n        const selected = this.listGeom.filter(o => assetIds.includes(String(o?.id)));\n        if (selected?.length) this.selectedOptions.setValue(selected);\n    }\n\n    /** ===============================================================================\n       * File handlering\n       * @param el \n       */\n    public inputFiles(el: any) {\n        const files: Array<File> = el.target.files;\n        const filesArr: Array<FileItem> = new Array<FileItem>();\n        for (const file of files) {\n            const extension: string = String(file.name).substring(String(file.name).lastIndexOf('.') + 1);\n            const type: string = String(file.type).split('/')[0];\n\n            const format: FileItem = {\n                thumb: null,\n                name: file.name,\n                file: file,\n                size: file.size,\n                progress: 0\n            }\n\n            if (file.type.match(/image\\/*/) && type != 'svg') {\n                this.readImage(format);\n            } else {\n                format.thumb = IconFiles.iconFile(String(extension).toLowerCase());\n            }\n            filesArr.unshift(format);\n        }\n\n        this._zone.run(async () => {\n            this.filesUpload = [...filesArr, ...this.filesUpload];\n        });\n    }\n    /** Reander image file */\n    private readImage(file: FileItem) {\n        let previewUrl: string | ArrayBuffer = ''\n        const reader = new FileReader();\n        reader.onload = (_event) => {\n            file.thumb = reader.result\n        }\n        reader.readAsDataURL(file.file);\n        return file;\n    }\n    /** Display size type\n     * 10 KB | MB | GB\n    */\n    public readFileSize(size: number): string {\n        if (!size) return '';\n        if (size <= ((2 ** 10) * 1024)) return `${(size / (2 ** 10)).toFixed(2)} KB`;\n        if (size <= ((2 ** 20) * 1024)) return `${(size / (2 ** 20)).toFixed(2)} MB`;\n        return `${(size / (2 ** 30)).toFixed(2)} GB`;\n    }\n    /** View extention */\n    public getFileIcon(extension: string, fileUrl?: string): string {\n        const isImage: boolean = ['jpg', 'png', 'jpeg', 'gif', 'svg'].includes(String(extension).toLowerCase());\n        if (isImage && fileUrl) return fileUrl;\n        return IconFiles.iconFile(String(extension).toLowerCase());\n    }\n    /** Delete file item */\n    public delFile(position: number) {\n        this.filesUpload.splice(position, 1);\n    }\n\n    /** Select item */\n    public selectionChanged(selected: MatSelectionListChange) {\n        // console.log('selected:', selected, this.selectedOptions.value);\n    }\n\n    //---------------------------------------------------------------------------------------------------\n    public isImageSaved(): boolean {\n        if (this.isSaved && !this.filesUpload?.length) return true;\n        if (!this.filesUpload?.length) return false;\n        const saving = this.filesUpload.every(o => o.progress == 100);\n        return saving;\n    }\n    public saveData(): void {\n        if (this.isSaving) return;\n        if (!this.selectedOptions.value?.length) return;\n        if (this.currentDate.invalid || this.searchBudgetCode.invalid) return;\n        const tools = new AppTools();\n\n        const assetIds: Array<string> = this.selectedOptions.value.filter(o => (o?.id)).map(o => String(o?.id));\n        // console.log('Asset-Ids:', this.assetTable, this.searchBudgetCode.value, assetIds);\n        const budgetCode: string = this.activeBudgetCode?.budgetCode ?? this.searchBudgetCode.value;\n        const params = {\n            assetType: this.assetTable,\n            budgetCode: String(budgetCode).trim(),\n            assetIds: assetIds,\n            userId: this._authed.authUser?.account_id,\n            reportDate: tools.dateTimeFormat(this.currentDate.value)\n        };\n        this.isSaving = true;\n        this.setFormDisabled();\n        // return;\n        console.log('Asset-Ids:', params);\n        this._budgetCodeAPI.createWithUpdate(params).then(res => {\n            this.isSaved = true;\n            if (res?.budget_code) this.uploadAllFile(res?.budget_code);\n        });\n    }\n    private uploadAllFile(budgetCode: string) {\n        let idxFile = 0;\n        for (const item of this.filesUpload) {\n            this._subscription[`upload-idx-${idxFile}`] = this._budgetCodeAPI.uploadFile(this.assetTable, budgetCode, item.file).subscribe(res => {\n                if (typeof res === 'number') {\n                    item.progress = res;\n                }\n            }, err => console.log('%cError occured while uploading file', 'color:tomato'));\n            idxFile++;\n        }\n    }\n    public downloafFile(file: any) {\n        const extract: string[] = String(file?.fileUrl).split('/');\n        const fileName = extract[extract.length - 1];\n        this._subscription.downloadFile = this._budgetCodeAPI.downloadFile(this.assetTable, fileName).subscribe(res => {\n            if (typeof res === 'number') {\n                file.progress = Math.round(100 * res / Number(file?.size));//console.log('Percentag:', Math.round(100 * res / Number(file?.size)));\n            } else if (res instanceof Blob) {\n                this.downloadBlob(res, file?.fileName);\n            }\n        });\n    }\n    private downloadBlob(blob: Blob, filename?: string): void {\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = filename || 'download'\n        document.body.appendChild(a)\n        setTimeout(() => { a.click(); document.body.removeChild(a); }, 100);\n    }\n}\n","import { animate, query, stagger, style, transition, trigger } from \"@angular/animations\";\r\nconst ExitStyle = { opacity: 0, transform: 'scale(0.8)' };\r\nconst EnterStyle = { opacity: 1, transform: 'scale(1)' };\r\n\r\n\r\nexport const FadeInOut = trigger('fadeInOut', [\r\n    transition(':enter', [\r\n        style({ opacity: 0 }),\r\n        animate('500ms', style({ opacity: 1 })),\r\n    ]),\r\n    transition(':leave', [animate('500ms', style({ opacity: 0 }))]),\r\n]);\r\n\r\nexport const FadeInGrow = trigger('fadeInGrow', [\r\n    transition(':enter', [\r\n        query(':enter', [\r\n            style(ExitStyle),\r\n            stagger('100ms', [animate('500ms', style(EnterStyle))]),\r\n        ]),\r\n    ]),\r\n    transition(':leave', [\r\n        query(':leave', [\r\n            stagger('-100ms', [animate('500ms', style(ExitStyle))]),\r\n        ]),\r\n    ]),\r\n]);","import { Component, Inject, LOCALE_ID, NgZone, OnInit } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { DateAdapter, MatDateFormats, MAT_DATE_FORMATS } from '@angular/material/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { IconFiles } from '../../../../common/icon-files';\nimport { UserAuthedService } from '../../../../services/user-auth.service';\nimport { AppTools, TimelineAssetsService } from '../../../../timeline-assets.service';\nimport { Subscription } from 'rxjs';   \nimport { FadeInGrow, FadeInOut } from './create-event.animation';\n\nconst CUSTOM_DATE_FORMATS: MatDateFormats = {\n    parse: {\n        dateInput: { month: 'short', year: 'numeric', day: 'numeric' },\n    },\n    display: {\n        dateInput: { month: 'short', year: 'numeric', day: 'numeric' },\n        monthYearLabel: { year: 'numeric', month: 'numeric' },\n        dateA11yLabel: { year: 'numeric', month: 'long', day: 'numeric' },\n        monthYearA11yLabel: { year: 'numeric', month: 'long' },\n    }\n};\n\ninterface DialogDataInterface {\n    modeDialog: 'maintenance' | 'assets';\n    viewType: 'Add' | 'View';\n    viewId: string;\n    assetId: string;\n    assetType: string;\n    [x: string]: any;\n}\ninterface FileItem {\n    name: string;\n    thumb: string | ArrayBuffer;\n    file: File;\n    size: number;\n    progress?: number;\n}\n\n@Component({\n    selector: 'timeline-dialog-new-record',\n    templateUrl: './dialog-new-record.component.html',\n    styleUrls: ['./dialog-new-record.component.scss'],\n    animations: [FadeInOut, FadeInGrow],\n    providers: [ \n        { provide: MAT_DATE_FORMATS, useValue: CUSTOM_DATE_FORMATS }\n    ]\n})\nexport class DialogNewRecordComponent implements OnInit {\n    public viewType: 'Add' | 'View';\n    public modeDialog: 'maintenance' | 'assets';\n    public _assetId: string;\n    public _assetType: string;\n    public _viewId: string; //-- Data id\n    public capText = {\n        title: 'บันทึกประวัติการซ่อมบำรุงทรัพย์สิน',\n        detail: 'รายละเอียดการซ่อม'\n    };\n    //-- file to upload\n    public filesUpload: Array<FileItem> = new Array<FileItem>();\n    public filesView: Array<any> = new Array();\n    public imagesView: Array<any> = new Array();\n    /** FormControl */\n    public currentDate: FormControl = new FormControl(new Date(), [Validators.required]);\n    public detail: FormControl = new FormControl(null, [Validators.required]);\n    public cost: FormControl = new FormControl(null, [Validators.required]);\n    public guaranteeDate: FormControl = new FormControl(null);\n    /** Saving */\n    public isSaving: boolean = false;\n    public isSaved: boolean = false;\n    public preLoading: boolean = false;\n    /** Subscription */\n    public _subscription: { [x: string]: Subscription } = {};\n    constructor(\n        private _dialog: MatDialogRef<DialogNewRecordComponent>,\n        @Inject(MAT_DIALOG_DATA) data: DialogDataInterface,\n        private _dateAdapter: DateAdapter<any>,\n        private _snackBar: MatSnackBar,\n        private _zone: NgZone,\n        private _timelineAPI: TimelineAssetsService,\n        private _authed: UserAuthedService\n    ) {\n        this._dateAdapter.setLocale('th-TH');\n        this.modeDialog = data?.modeDialog;\n        this.viewType = data?.viewType;\n        this._assetId = data?.assetId;\n        this._assetType = data?.assetType;\n        this._viewId = data?.viewId;\n    }\n\n    ngOnInit(): void {\n        if (this.modeDialog === 'maintenance') {\n            this.capText.title = 'บันทึกประวัติการซ่อมบำรุงทรัพย์สิน';\n            this.capText.detail = 'รายละเอียดการซ่อม';\n        }\n        if (this.modeDialog === 'assets') {\n            this.capText.title = 'รายงานสภาพทรัพย์สิน';\n            this.capText.detail = 'รายละเอียดสภาพทรัพย์สิน';\n        }\n        if (this.viewType === 'View') {\n            // console.log('%cViewId', 'color:orange', this._viewId);\n            this.loadFormData();\n        }\n    }\n    ngAfterViewInit(): void {\n    }\n    ngOnDestroy(): void {\n        this._dateAdapter.setLocale('en-EN');\n        for (const key in this._subscription) {\n            if (Object.prototype.hasOwnProperty.call(this._subscription, key)) {\n                this._subscription[key].unsubscribe();\n            }\n        }\n    }\n\n    private loadFormData(): void {\n        if (this.modeDialog === 'maintenance') {\n            this.preLoading = true;\n            this._timelineAPI.getMaintenanceHistoryWithFile(this._viewId).then(res => {\n                if (!res?.reportDate) return;\n                if (res?.reportDate) this.currentDate.setValue(new Date(res?.reportDate), { emitEvent: false });\n                if (res?.description) this.detail.setValue(res?.description, { emitEvent: false });\n                if (res?.repairCost) this.cost.setValue(res?.repairCost, { emitEvent: false });\n                if (res?.guaranteeDate) this.guaranteeDate.setValue(res?.guaranteeDate, { emitEvent: false });\n                if (res?.files) this.filesView = res?.files;\n                if (res?.images) this.imagesView = res?.images;\n                this.preLoading = false;\n            });\n        }\n        if (this.modeDialog === 'assets') {\n            this.preLoading = true;\n            this._timelineAPI.getConditionReportWithFile(this._viewId).then(res => {\n                if (!res?.reportDate) return;\n                if (res?.reportDate) this.currentDate.setValue(new Date(res?.reportDate), { emitEvent: false });\n                if (res?.description) this.detail.setValue(res?.description, { emitEvent: false });\n                if (res?.files) this.filesView = res?.files;\n                if (res?.images) this.imagesView = res?.images;\n                this.preLoading = false;\n            });\n        }\n    }\n\n    /** Replace number */\n    public numberOnly(ev: KeyboardEvent): boolean {\n        return new RegExp(/^[0-9]*\\.?[0-9]*$/).test(ev.key);\n    }\n    public costNumber(): number {\n        return Number(String(this.cost.value).replace(/\\,/g, ''));\n    }\n\n    /** Handler */\n    private setFormDisabled(): void {\n        this.currentDate.disable();\n        this.detail.disable();\n        this.detail.disable();\n        this.guaranteeDate.disable();\n    }\n    private setFormEnabled(): void {\n        this.currentDate.enable();\n        this.detail.enable();\n        this.detail.enable();\n        this.guaranteeDate.enable();\n    }\n\n    /** ===============================================================================\n       * File handlering\n       * @param el \n       */\n    public inputFiles(el: any) {\n        const files: Array<File> = el.target.files;\n        const filesArr: Array<FileItem> = new Array<FileItem>();\n        for (const file of files) {\n            const extension: string = String(file.name).substring(String(file.name).lastIndexOf('.') + 1);\n            const type: string = String(file.type).split('/')[0];\n\n            const format: FileItem = {\n                thumb: null,\n                name: file.name,\n                file: file,\n                size: file.size,\n                progress: 0\n            }\n\n            if (file.type.match(/image\\/*/) && type != 'svg') {\n                this.readImage(format);\n            } else {\n                format.thumb = IconFiles.iconFile(String(extension).toLowerCase());\n            }\n            filesArr.unshift(format);\n        }\n\n        this._zone.run(async () => {\n            this.filesUpload = [...filesArr, ...this.filesUpload];\n        });\n    }\n    /** Reander image file */\n    private readImage(file: FileItem) {\n        let previewUrl: string | ArrayBuffer = ''\n        const reader = new FileReader();\n        reader.onload = (_event) => {\n            file.thumb = reader.result\n        }\n        reader.readAsDataURL(file.file);\n        return file;\n    }\n    /** Display size type\n     * 10 KB | MB | GB\n    */\n    public readFileSize(size: number): string {\n        if (!size) return '';\n        if (size <= ((2 ** 10) * 1024)) return `${(size / (2 ** 10)).toFixed(2)} KB`;\n        if (size <= ((2 ** 20) * 1024)) return `${(size / (2 ** 20)).toFixed(2)} MB`;\n        return `${(size / (2 ** 30)).toFixed(2)} GB`;\n    }\n    /** View extention */\n    public getFileIcon(extension: string): string {\n        return IconFiles.iconFile(String(extension).toLowerCase());\n    }\n    /** Delete file item */\n    public delFile(position: number) {\n        this.filesUpload.splice(position, 1);\n    }\n\n    /** ==========================================================\n     * Download file\n     */\n    public downloafFile(file: any) {\n        const extract: string[] = String(file?.fileUrl).split('/');\n        const fileName = extract[extract.length - 1];\n        this._subscription.downloadFile = this._timelineAPI.downloadFile(this._assetType, this._assetId, fileName).subscribe(res => {\n            if (typeof res === 'number') {\n                file.progress = Math.round(100 * res / Number(file?.size));//console.log('Percentag:', Math.round(100 * res / Number(file?.size)));\n            } else if (res instanceof Blob) {\n                this.downloadBlob(res, file?.fileName);\n            }\n            // else {\n            //     console.log('%cResponse:', 'color:orange', res);\n            // }\n        });\n    }\n    private downloadBlob(blob: Blob, filename?: string): void {\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = filename || 'download'\n\n        document.body.appendChild(a)\n        setTimeout(() => { a.click(); document.body.removeChild(a); }, 100);\n    }\n\n    /** ==========================================================\n     * Save data\n     */\n    public isImageSaved(): boolean {\n        if (this.isSaved && !this.filesUpload?.length) return true;\n        if (!this.filesUpload?.length) return false;\n        const saving = this.filesUpload.every(o => o.progress == 100);\n        return saving;\n    }\n    public saveData() {\n        if(this.isSaving) return;\n        const tools = new AppTools();\n\n        if (this.modeDialog === 'maintenance') {\n            if (this.cost.invalid || this.detail.invalid) return;\n            this.isSaving = true;\n            this.setFormDisabled();\n            const data = {\n                assetId: this._assetId,\n                assetType: this._assetType,\n                userId: this._authed.authUser?.account_id,\n                description: this.detail.value,\n                repairCost: Number(String(this.cost.value).replace(/\\,/g, '')),\n                guaranteeDate: tools.dateTimeFormat(this.guaranteeDate.value),\n                reportDate: tools.dateTimeFormat(this.currentDate.value),\n            };\n            // console.log('%cParams', 'color:tomato', data);\n            this._timelineAPI.createMaintenance(data).then((res: any) => {\n                if (res?.id) this.uploadAllFile(res?.id, true);\n                this.isSaved = true;\n            });\n        }\n\n        if (this.modeDialog === 'assets') {\n            if (this.detail.invalid) return;\n            this.isSaving = true;\n            this.setFormDisabled();\n            const data = {\n                assetId: this._assetId,\n                assetType: this._assetType,\n                userId: this._authed.authUser?.account_id,\n                description: this.detail.value,\n                reportDate: tools.dateTimeFormat(this.currentDate.value),\n            };\n            // console.log('%cParams', 'color:tomato', data);\n            this._timelineAPI.createConditionReport(data).then((res: any) => {\n                if (res?.id) this.uploadAllFile(res?.id, false);\n                this.isSaved = true;\n            });\n        }\n    }\n\n    private uploadAllFile(mainId: string, isMaintenance: boolean) {\n        let idxFile = 0;\n        for (const item of this.filesUpload) {\n            this._subscription[`upload-idx-${idxFile}`] = this._timelineAPI.uploadFile(\n                mainId, this._assetType, this._assetId, item.file, isMaintenance\n            ).subscribe(res => {\n                if (typeof res === 'number') {\n                    item.progress = res;\n                }\n            }, err => console.log('%cError occured while uploading file', 'color:tomato'));\n            idxFile++;\n        }\n    }\n}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\ninterface ImageInterface {\n  imageUrl: string;\n  name: string;\n  title: string;\n  description: string;\n}\ninterface TaskinfoInterface {\n  id: string;\n  type: string;\n  description: string;\n  userName: string;\n  reportDate: string;\n  images: ImageInterface[]\n}\n@Component({\n  selector: 'app-dialog-view-task',\n  templateUrl: './dialog-view-task.component.html',\n  styleUrls: ['./dialog-view-task.component.scss']\n})\nexport class DialogViewTaskComponent implements OnInit {\n  public _title: string;\n  public _description: string;\n  public _images: ImageInterface[] = new Array();\n\n  constructor(\n    private dialog: MatDialogRef<DialogViewTaskComponent>,\n    @Inject(MAT_DIALOG_DATA) data: TaskinfoInterface\n  ) {\n    this._title = data?.type;\n    this._description = data?.description;\n    this._images = data?.images;\n  }\n\n  ngOnInit(): void {\n  }\n\n  public close(): void {\n    this.dialog.close();\n  }\n\n}\n","import { Component, Input, LOCALE_ID, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { TimelineAssetsService } from '../../timeline-assets.service'; \nimport { AddBudgetCodeMaintenanceComponent } from '../main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.component';\nimport { DialogNewRecordComponent } from './widgets/dialog-new-record/dialog-new-record.component';\nimport { DialogViewTaskComponent } from './widgets/dialog-view-task/dialog-view-task.component';\n\n@Component({\n    selector: 'app-timeline',\n    templateUrl: './timeline.component.html',\n    styleUrls: ['./timeline.component.scss']\n})\nexport class TimelineComponent implements OnInit {\n    public _assetId: string = '16690';//'5';\n    public _assetType: string = 'c01_sideway_type';\n    public _assetCaption: string;\n    public preLoading: boolean = false;\n    public listLog: Array<any> = new Array();\n    private _timelinePeriod: string = '3';\n    private _timelinePeriodType: string = 'D';\n    constructor(\n        private _timelineAPI: TimelineAssetsService,\n        private _dialog: MatDialog\n    ) { }\n\n    ngOnInit(): void {\n        this.loadData(this._timelinePeriod, this._timelinePeriodType);\n    }\n    @Input() set assetInfo(info: any) {\n        // this._assetId = info?.id;\n        // this._assetType = info?.table;\n        // private dataTest: any = {table: 'c02_footpath_type', id: '3198'}\n        this._assetId = (info?.id) ? info?.id : 3198 ;\n        this._assetType = (info?.table) ? info?.table : 'c02_footpath_type';\n        this._assetCaption = info?.caption;\n        // console.log('Asset-Info:', info);\n        if (info?.id && info?.table) this.loadData();\n    }\n    @Input() set triggerNum(num: number) {\n        if (num) this.loadData(this._timelinePeriod, this._timelinePeriodType);\n    }\n    public triggerReload(ev: any): void {\n        if (ev?.period && ev?.periodType) {\n            this._timelinePeriod = ev?.period;\n            this._timelinePeriodType = ev?.periodType;\n            this.loadData(ev?.period, ev?.periodType);\n        }\n    }\n    private loadData(period?: string, periodType?: string) {\n        this.preLoading = true;\n        this._timelineAPI.getTimeline(this._assetType, this._assetId, period, periodType).then(res => {\n            // if (Array.isArray(res) && res?.length) {\n            if (res?.length > 0) {\n                this.listLog = res;\n                this.listLog = this.listLog.sort((a, b) => {\n                    const dA = new Date(b.month);\n                    const dB = new Date(a.month);\n                    return (dB > dA) ? 1 : -1;\n                });\n            }\n            this.preLoading = false;\n        }, err => {\n            // console.log('%cError-Timelinse:', 'color:tomato', err);\n            this.preLoading = false;\n        });\n    }\n\n    /** Timeline clicked */\n    public timelineClicked(data: any) {\n        if (data?.typeKey === 'condition-report') return this.conditionReport(data?.id);\n        if (data?.typeKey === 'maintenance-history') return this.maintenanceRecord(data?.id);\n        if (data?.typeKey === 'task') return this.taskDialog(data);\n        if (data?.typeKey === 'budget-code') return this.bugetCode(data);\n    }\n\n    /** Dialog */\n    public maintenanceRecord(viewId: number) {\n        this._dialog.open(DialogNewRecordComponent, {\n            data: {\n                modeDialog: 'maintenance',\n                viewType: 'View',\n                assetId: this._assetId,\n                assetType: this._assetType,\n                viewId: viewId\n            },\n            width: '450px',\n            panelClass: 'timeline-dialog-new-record',\n            disableClose: true\n        });\n    }\n    public conditionReport(viewId: number) {\n        this._dialog.open(DialogNewRecordComponent, {\n            data: {\n                modeDialog: 'assets',\n                viewType: 'View',\n                assetId: this._assetId,\n                assetType: this._assetType,\n                viewId: viewId\n            },\n            width: '450px',\n            panelClass: 'timeline-dialog-new-record',\n            disableClose: true\n        });\n    }\n    public taskDialog(data: any): void {\n        this._dialog.open(DialogViewTaskComponent, {\n            data: data,\n            width: '450px',\n            panelClass: 'timeline-dialog-new-record',\n            disableClose: true\n        });\n    }\n    public bugetCode(data: any): void {\n        this._dialog.open(AddBudgetCodeMaintenanceComponent, {\n            panelClass: 'dialog-add-code-budget',\n            width: '82%',\n            height: '82%',\n            disableClose: true,\n            data: {\n                dialogType: 'Viewer',\n                budgetCode: data?.budgetCode,\n                title: this._assetCaption,\n                assetTable: this._assetType,\n                listGeom: []\n            }\n        });\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { DialogNewRecordComponent } from '../dialog-new-record/dialog-new-record.component';\n\n@Component({\n  selector: 'timeline-tools',\n  templateUrl: './timeline-tools.component.html',\n  styleUrls: ['./timeline-tools.component.scss']\n})\nexport class TimelineToolsComponent implements OnInit {\n  @Output() triggerReload: EventEmitter<any> = new EventEmitter();\n  public _assetId: string;\n  public _assetType: string;\n\n  /** Period for view timeline */\n  public period: FormControl = new FormControl(3, [Validators.required]);\n  public typePeriod: FormControl = new FormControl('D', [Validators.required]);\n  public listPeriodType: Array<{ type: string, caption: string }> = new Array();\n\n  /** Subscription */\n  public _subscription: { [x: string]: Subscription } = {};\n\n  constructor(private dialog: MatDialog) {\n    this.listPeriodType = [\n      { type: 'D', caption: 'วัน-ย้อนหลัง' },\n      { type: 'W', caption: 'สัปดาห์-ย้อนหลัง' },\n      { type: 'M', caption: 'เดือน-ย้อนหลัง' },\n      { type: 'Y', caption: 'ปี-ย้อนหลัง' }\n    ];\n  }\n\n  @Input() set assetId(data: string) {\n    this._assetId = data;\n  }\n  @Input() set assetType(data: string) {\n    this._assetType = data;\n  }\n\n  ngOnInit(): void {\n  }\n  ngOnDestroy(): void {\n    for (const key in this._subscription) {\n      if (Object.prototype.hasOwnProperty.call(this._subscription, key)) {\n        this._subscription[key].unsubscribe();\n      }\n    }\n  }\n\n  public reloadData():void {\n    this.triggerReload.emit({ period: this.period.value, periodType: this.typePeriod.value });\n  }\n\n  public maintenanceRecord() {\n    const dialog = this.dialog.open(DialogNewRecordComponent, {\n      data: {\n        modeDialog: 'maintenance',\n        viewType: 'Add',\n        assetId: this._assetId,\n        assetType: this._assetType\n      },\n      width: '450px',\n      panelClass: 'timeline-dialog-new-record',\n      disableClose: true\n    });\n    this._subscription.maintenance = dialog.afterClosed().subscribe(res => {\n      if (res) this.triggerReload.emit({ period: this.period.value, periodType: this.typePeriod.value });\n    });\n  }\n\n  public insertAssets() {\n    const dialog = this.dialog.open(DialogNewRecordComponent, {\n      data: {\n        modeDialog: 'assets',\n        viewType: 'Add',\n        assetId: this._assetId,\n        assetType: this._assetType\n      },\n      width: '450px',\n      panelClass: 'timeline-dialog-new-record',\n      disableClose: true\n    });\n    this._subscription.conditionReport = dialog.afterClosed().subscribe(res => {\n      if (res) this.triggerReload.emit({ period: this.period.value, periodType: this.typePeriod.value });\n    });\n  }\n\n}\n","import { Directive, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[error-img]', // Attribute selector\r\n    host: {\r\n        '(error)': 'onError()',\r\n        '[src]': 'src'\r\n    }\r\n})\r\nexport class ErrorImgDirective {\r\n    @Input() src: string = null;\r\n    @Input() default: string = null;\r\n\r\n    constructor() { }\r\n\r\n    private onError() {\r\n        this.src = (!this.default) ? `https://highwaydistrict.com/doh_district/resources/img/img-default.jpg` : this.default;\r\n    }\r\n}\r\n","import { Directive, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[error-img-user]', // Attribute selector\r\n    host: {\r\n        '(error)': 'onError()',\r\n        '[src]': 'src'\r\n    }\r\n})\r\nexport class ErrorImgUserDirective {\r\n    @Input() src: string = null;\r\n    @Input() default: string = null;\r\n\r\n    constructor() { }\r\n\r\n    private onError() {\r\n        this.src = (!this.default) ? `https://highwaydistrict.com/doh_district/resources/img/user-default.png` : this.default;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ErrorImgDirective } from './error-img/error-img';\nimport { ErrorImgUserDirective } from './error-img/error-img-user';\n\n@NgModule({\n    declarations: [\n        ErrorImgDirective,\n        ErrorImgUserDirective\n    ],\n    imports: [\n        CommonModule,\n    ],\n    exports: [\n        ErrorImgDirective,\n        ErrorImgUserDirective\n    ]\n})\nexport class DirectivesModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DialogNewRecordComponent } from './dialog-new-record.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule} from '@angular/material/dialog';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatListModule } from '@angular/material/list';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { DirectivesModule } from '../../../../directives/directives.module'; \n\n\n\n@NgModule({\n  declarations: [DialogNewRecordComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    FlexLayoutModule,\n    MatSnackBarModule,\n    MatDatepickerModule,\n    MatListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n\n    /** Directives */\n    DirectivesModule\n  ],\n  exports: [DialogNewRecordComponent],\n  providers: [ ]\n})\nexport class DialogNewRecordModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TimelineToolsComponent } from './timeline-tools.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { DialogNewRecordModule } from '../dialog-new-record/dialog-new-record.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\n\n\n\n@NgModule({\n  declarations: [TimelineToolsComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatIconModule,\n    MatDialogModule,\n    FlexLayoutModule,\n    MatDividerModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n\n    /** Widgets */\n    DialogNewRecordModule\n  ],\n  exports: [TimelineToolsComponent]\n})\nexport class TimelineToolsModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DialogViewTaskComponent } from './dialog-view-task.component';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { FlexLayoutModule } from '@angular/flex-layout'; \nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { DirectivesModule } from './../../../../directives/directives.module';\n\n\n\n@NgModule({\n  declarations: [DialogViewTaskComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    FlexLayoutModule,\n    MatIconModule,\n    MatButtonModule,\n    MatTooltipModule,\n\n    /** Directives */\n    DirectivesModule\n  ],\n  exports: [DialogViewTaskComponent]\n})\nexport class DialogViewTaskModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AddBudgetCodeMaintenanceComponent } from './add-budget-code-maintenance.component';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatListModule } from '@angular/material/list';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner'; \nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { DirectivesModule } from '../../../directives/directives.module';\n\n\n\n@NgModule({\n  declarations: [AddBudgetCodeMaintenanceComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    FlexLayoutModule,\n    MatSnackBarModule,\n    MatDatepickerModule,\n    MatListModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatChipsModule,\n    MatTooltipModule,\n\n    /** Directives */\n    DirectivesModule\n  ],\n  exports: [AddBudgetCodeMaintenanceComponent]\n})\nexport class AddBudgetCodeMaintenanceModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TimelineComponent } from './timeline.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TimelineToolsModule } from './widgets/timeline-tools/timeline-tools.module';\nimport { DialogNewRecordModule } from './widgets/dialog-new-record/dialog-new-record.module';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { DialogViewTaskModule } from './widgets/dialog-view-task/dialog-view-task.module';\nimport { AddBudgetCodeMaintenanceModule } from '../main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.module'; \n\n@NgModule({\n  declarations: [TimelineComponent],\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatRippleModule,\n    MatDialogModule,\n    MatIconModule,\n    MatSnackBarModule,\n    MatProgressBarModule,\n\n    /** Timeline Widgets */\n    TimelineToolsModule,\n    DialogNewRecordModule,\n    DialogViewTaskModule,\n    AddBudgetCodeMaintenanceModule\n  ],\n  exports: [TimelineComponent],\n  providers: [ ]\n})\nexport class TimelineModule { \n}\n","import { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { TimelineModule } from './components/timeline/timeline.module';\nimport { TimelineAssetsComponent } from './timeline-assets.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'; // this is needed!\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [TimelineAssetsComponent],\n  imports: [\n    BrowserModule,\n    CommonModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    TimelineModule, \n    FormsModule,\n    ReactiveFormsModule,\n\n    // mat \n    MatDatepickerModule,\n    MatNativeDateModule,\n  ],\n  exports: [TimelineAssetsComponent],\n  providers: [ \n  ]\n})\nexport class TimelineAssetsModule {  }\n","/*\n * Public API Surface of timeline-assets\n */\n\nexport * from './lib/timeline-assets.service';\nexport * from './lib/timeline-assets.component';\nexport * from './lib/timeline-assets.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {AddBudgetCodeMaintenanceComponent as ɵp} from './lib/components/main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.component';\nexport {AddBudgetCodeMaintenanceModule as ɵo} from './lib/components/main-dialog/add-budget-code-maintenance/add-budget-code-maintenance.module';\nexport {FadeInGrow as ɵr,FadeInOut as ɵq} from './lib/components/main-dialog/add-budget-code-maintenance/create-event.animation';\nexport {TimelineComponent as ɵc} from './lib/components/timeline/timeline.component';\nexport {TimelineModule as ɵb} from './lib/components/timeline/timeline.module';\nexport {FadeInGrow as ɵi,FadeInOut as ɵh} from './lib/components/timeline/widgets/dialog-new-record/create-event.animation';\nexport {DialogNewRecordComponent as ɵg} from './lib/components/timeline/widgets/dialog-new-record/dialog-new-record.component';\nexport {DialogNewRecordModule as ɵf} from './lib/components/timeline/widgets/dialog-new-record/dialog-new-record.module';\nexport {DialogViewTaskComponent as ɵn} from './lib/components/timeline/widgets/dialog-view-task/dialog-view-task.component';\nexport {DialogViewTaskModule as ɵm} from './lib/components/timeline/widgets/dialog-view-task/dialog-view-task.module';\nexport {TimelineToolsComponent as ɵe} from './lib/components/timeline/widgets/timeline-tools/timeline-tools.component';\nexport {TimelineToolsModule as ɵd} from './lib/components/timeline/widgets/timeline-tools/timeline-tools.module';\nexport {DirectivesModule as ɵj} from './lib/directives/directives.module';\nexport {ErrorImgDirective as ɵk} from './lib/directives/error-img/error-img';\nexport {ErrorImgUserDirective as ɵl} from './lib/directives/error-img/error-img-user';\nexport {UserAuthedService as ɵa} from './lib/services/user-auth.service';"],"names":["ExitStyle","EnterStyle","FadeInOut","FadeInGrow","CUSTOM_DATE_FORMATS"],"mappings":"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"}